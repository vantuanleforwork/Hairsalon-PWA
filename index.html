<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Salon - T·∫°o ƒë∆°n h√†ng</title>
    
    <!-- PWA Meta -->
    <meta name="theme-color" content="#667eea">
    <meta name="description" content="T·∫°o ƒë∆°n h√†ng salon nhanh ch√≥ng">
    <link rel="manifest" href="manifest.json">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: #f5f7fa;
            color: #333;
            line-height: 1.6;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .header h1 {
            color: #667eea;
            font-size: 2em;
            margin-bottom: 10px;
        }
        
        .form-container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
            color: #555;
        }
        
        input, select, textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #e1e5e9;
            border-radius: 5px;
            font-size: 16px;
            transition: border-color 0.3s;
        }
        
        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: #667eea;
        }
        
        .btn {
            background: #667eea;
            color: white;
            padding: 12px 30px;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
            transition: background 0.3s;
        }
        
        .btn:hover {
            background: #5a67d8;
        }
        
        .btn-full {
            width: 100%;
            padding: 15px;
            font-size: 18px;
            font-weight: 600;
        }
        
        .orders-section {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .orders-section h2 {
            color: #667eea;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #e1e5e9;
        }
        
        .order-item {
            padding: 15px;
            border: 1px solid #e1e5e9;
            border-radius: 5px;
            margin-bottom: 10px;
            background: #f8f9fa;
        }
        
        .order-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .order-id {
            font-weight: 600;
            color: #667eea;
        }
        
        .order-time {
            color: #666;
            font-size: 14px;
        }
        
        .order-details {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }
        
        .order-info {
            font-size: 14px;
        }
        
        .order-info strong {
            color: #333;
        }
        
        .empty-state {
            text-align: center;
            color: #999;
            padding: 40px;
        }
        
        @media (max-width: 600px) {
            .container { padding: 10px; }
            .form-container, .orders-section { padding: 20px; }
            .order-details { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üíá‚Äç‚ôÄÔ∏è Salon - T·∫°o ƒë∆°n h√†ng</h1>
        </div>

        <!-- Form t·∫°o ƒë∆°n h√†ng -->
        <div class="form-container">
            <form id="orderForm">
                <div class="form-group">
                    <label for="customerName">T√™n kh√°ch h√†ng *</label>
                    <input type="text" id="customerName" required>
                </div>

                <div class="form-group">
                    <label for="customerPhone">S·ªë ƒëi·ªán tho·∫°i *</label>
                    <input type="tel" id="customerPhone" required>
                </div>

                <div class="form-group">
                    <label for="service">D·ªãch v·ª• *</label>
                    <select id="service" required>
                        <option value="">Ch·ªçn d·ªãch v·ª•</option>
                        <option value="C·∫Øt t√≥c - 100k">C·∫Øt t√≥c - 100,000ƒë</option>
                        <option value="G·ªôi ƒë·∫ßu - 50k">G·ªôi ƒë·∫ßu - 50,000ƒë</option>
                        <option value="Nhu·ªôm t√≥c - 300k">Nhu·ªôm t√≥c - 300,000ƒë</option>
                        <option value="U·ªën t√≥c - 250k">U·ªën t√≥c - 250,000ƒë</option>
                        <option value="Du·ªói t√≥c - 200k">Du·ªói t√≥c - 200,000ƒë</option>
                        <option value="Combo c·∫Øt + g·ªôi - 130k">Combo c·∫Øt + g·ªôi - 130,000ƒë</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="appointmentTime">Gi·ªù h·∫πn</label>
                    <input type="time" id="appointmentTime">
                </div>

                <div class="form-group">
                    <label for="notes">Ghi ch√∫</label>
                    <textarea id="notes" rows="3" placeholder="Ghi ch√∫ th√™m v·ªÅ d·ªãch v·ª•..."></textarea>
                </div>

                <button type="submit" class="btn btn-full">T·∫°o ƒë∆°n h√†ng</button>
            </form>
        </div>

        <!-- Danh s√°ch ƒë∆°n h√†ng trong ng√†y -->
        <div class="orders-section">
            <h2>üìã ƒê∆°n h√†ng h√¥m nay (<span id="todayDate"></span>)</h2>
            <div id="ordersList"></div>
        </div>
    </div>

    <script>
        let orders = JSON.parse(localStorage.getItem('salon-orders') || '[]');
        
        // Hi·ªÉn th·ªã ng√†y h√¥m nay
        document.getElementById('todayDate').textContent = new Date().toLocaleDateString('vi-VN');
        
        // X·ª≠ l√Ω form submit
        document.getElementById('orderForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const order = {
                id: Date.now(),
                customerName: document.getElementById('customerName').value,
                customerPhone: document.getElementById('customerPhone').value,
                service: document.getElementById('service').value,
                appointmentTime: document.getElementById('appointmentTime').value,
                notes: document.getElementById('notes').value,
                createdAt: new Date().toISOString(),
                date: new Date().toDateString()
            };
            
            orders.unshift(order);
            localStorage.setItem('salon-orders', JSON.stringify(orders));
            
            // Reset form
            this.reset();
            
            // C·∫≠p nh·∫≠t danh s√°ch
            displayOrders();
            
            alert('ƒê√£ t·∫°o ƒë∆°n h√†ng th√†nh c√¥ng!');
        });
        
        // Hi·ªÉn th·ªã danh s√°ch ƒë∆°n h√†ng
        function displayOrders() {
            const today = new Date().toDateString();
            const todayOrders = orders.filter(order => order.date === today);
            const container = document.getElementById('ordersList');
            
            if (todayOrders.length === 0) {
                container.innerHTML = `
                    <div class="empty-state">
                        <p>Ch∆∞a c√≥ ƒë∆°n h√†ng n√†o trong ng√†y h√¥m nay</p>
                    </div>
                `;
                return;
            }
            
            container.innerHTML = todayOrders.map(order => `
                <div class="order-item">
                    <div class="order-header">
                        <span class="order-id">#${order.id}</span>
                        <span class="order-time">${new Date(order.createdAt).toLocaleTimeString('vi-VN')}</span>
                    </div>
                    <div class="order-details">
                        <div class="order-info">
                            <strong>Kh√°ch h√†ng:</strong> ${order.customerName}<br>
                            <strong>SƒêT:</strong> ${order.customerPhone}
                        </div>
                        <div class="order-info">
                            <strong>D·ªãch v·ª•:</strong> ${order.service}<br>
                            ${order.appointmentTime ? `<strong>Gi·ªù h·∫πn:</strong> ${order.appointmentTime}` : ''}
                        </div>
                    </div>
                    ${order.notes ? `<div style="margin-top: 10px; font-style: italic; color: #666;">Ghi ch√∫: ${order.notes}</div>` : ''}
                </div>
            `).join('');
        }
        
        // Load orders when page loads
        displayOrders();
        
        // Register service worker
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('sw.js')
                    .then(reg => console.log('SW registered'))
                    .catch(err => console.log('SW registration failed'));
            });
        }
    </script>
</body>
</html>
